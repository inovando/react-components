{"version":3,"sources":["../../dist/trash~XOtNinTH.svg","../../dist/close~yJuNWzHg.svg","../../src/components/Upload/styles.js","../../src/components/Cloud.js","../../src/components/Upload/i18n.js","../../src/components/Upload/Upload.js","App.js","index.js"],"names":["module","exports","activeStyle","border","rejectStyle","Cloud","color","rest","width","height","viewBox","fill","d","locales","pt","formatBytes","bytes","decimals","dm","i","Math","parseFloat","Upload","onChange","label","errorText","value","locale","maxSize","useState","rejectedFiles","setRejectedFiles","maxSizeInBytes","useMemo","useDropzone","onDrop","acceptedFiles","file","Object","preview","URL","onDropRejected","getRootProps","getInputProps","isDragActive","isDragReject","thumbs","className","styles","key","name","image","src","filename","extension","size","onClick","index","type","trash","style","container","box","React","errors","rejected","interpolate","close","error","App","files","setFiles","accept","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.90d8a112.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/trash~XOtNinTH.3cf79106.svg\";","module.exports = __webpack_public_path__ + \"static/media/close~yJuNWzHg.b195082a.svg\";","export const activeStyle = {\n  border: '2px dashed #25abf2'\n};\n\nexport const rejectStyle = {\n  border: '2px dashed #f44336'\n};\n","import * as React from \"react\"\n\nfunction Cloud({ color = '', ...rest }) {\n  return (\n    <svg width={75} height={50} viewBox=\"0 0 75 50\" fill=\"none\" {...rest}>\n      <path\n        d=\"M60.469 18.875C58.344 8.094 48.875 0 37.5 0c-9.031 0-16.875 5.125-20.781 12.625C7.312 13.625 0 21.594 0 31.25 0 41.594 8.406 50 18.75 50h40.625C68 50 75 43 75 34.375c0-8.25-6.406-14.938-14.531-15.5zm-16.719 9.25v12.5h-12.5v-12.5h-9.375L37.5 12.5l15.625 15.625H43.75z\"\n        fill={color}\n      />\n    </svg>\n  )\n}\n\nexport default Cloud;\n","export const pt = {\n  'file-invalid-type': 'Tipo de arquivo inválido',\n  'file-too-large': 'Tamanho máximo excedido {{maxSize}}',\n  'file-too-small': 'Tamanho mínimo não cumprido {{maxSize}}'\n}\n\nexport const locales = { pt };\n","import React, { useMemo, useState } from \"react\";\nimport { useDropzone } from \"react-dropzone\";\nimport styles from \"./styles.module.css\";\nimport { activeStyle, rejectStyle } from \"./styles\";\nimport Cloud from \"../Cloud\";\nimport trash from \"../images/trash.svg\";\nimport close from \"../images/close.svg\";\nimport { locales } from \"./i18n\";\nimport template from 'lodash.template';\n\nfunction formatBytes(bytes, decimals = 2) {\n  if (bytes === 0) return \"0 Bytes\";\n\n  const k = 1024;\n  const dm = decimals < 0 ? 0 : decimals;\n  const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return `${parseFloat((bytes / Math.pow(k, i)).toFixed(dm))} ${sizes[i]}`;\n}\n\nfunction Upload({\n  onChange = () => {},\n  label = \"\",\n  errorText = \"\",\n  value = [],\n  locale = \"pt\",\n  maxSize = null,\n  ...rest\n}) {\n  const [rejectedFiles, setRejectedFiles] = useState([]);\n\n  const maxSizeInBytes = useMemo(() => {\n    if (!maxSize) return null;\n    return maxSize * (1024 * 1024);\n  }, [maxSize]);\n\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive,\n    isDragReject,\n  } = useDropzone({\n    onDrop: (acceptedFiles) => {\n      onChange(\n        acceptedFiles.map((file) => {\n          if (!file.type.includes(\"image/\")) return file;\n          return Object.assign(file, {\n            preview: URL.createObjectURL(file),\n          });\n        })\n      );\n    },\n    onDropRejected: (rejectedFiles) => {\n      setRejectedFiles(rejectedFiles);\n    },\n    maxSize: maxSizeInBytes,\n    ...rest,\n  });\n\n  const thumbs = value.map((file, index) => {\n    return (\n      <div className={styles.thumb} key={file.name}>\n        <div className={styles.image}>\n          {file.preview && <img src={file.preview} />}\n          {!file.preview &&\n            file.name &&\n            file.name.split(\".\")[file.name.split(\".\").length - 1]}\n        </div>\n        <aside>\n          <div className={styles.file}>\n            <div className={styles.filename}>\n              {file.name.split(\".\").slice(0, -1).join(\".\")}\n            </div>\n            <div className={styles.extension}>\n              .{file.name.split(\".\")[file.name.split(\".\").length - 1]}\n            </div>\n          </div>\n          <div className={styles.size}>{formatBytes(file.size)}</div>\n        </aside>\n        <button\n          onClick={() =>\n            onChange(value.filter((file, fileIndex) => index !== fileIndex))\n          }\n          className={styles.delete}\n          type=\"button\"\n        >\n          <img src={trash} />\n        </button>\n      </div>\n    );\n  });\n\n  const style = useMemo(\n    () => ({\n      ...(isDragActive ? activeStyle : {}),\n      ...(isDragReject ? rejectStyle : {}),\n    }),\n    [isDragActive, isDragReject]\n  );\n\n  return (\n    <section className={styles.container}>\n      <div className={styles.box} {...getRootProps({ style })}>\n        <input {...getInputProps()} />\n        <Cloud\n          color={\n            isDragReject ? \"#f44336\" : isDragActive ? \"#25abf2\" : \"#CECFD1\"\n          }\n        />\n        <p>{label}</p>\n      </div>\n      {rejectedFiles.map(({ errors, file: { name } }, rejectedIndex) => (\n        <div key={name} className={styles.rejected}>\n          <p>\n            {template(locales[locale][errors[0].code], {\n              interpolate: /{{([\\s\\S]+?)}}/g\n            })({ maxSize: formatBytes(maxSizeInBytes) })}: <strong>{name}</strong>\n          </p>\n          <button\n            onClick={() => setRejectedFiles(\n              rejectedFiles.filter((_item, index) => index !== rejectedIndex)\n            )}\n            type=\"button\"\n          >\n            <img src={close} />\n          </button>\n        </div>\n      ))}\n      <div className={styles.preview}>{thumbs}</div>\n      {errorText && <div className={styles.error}>{errorText}</div>}\n    </section>\n  );\n}\n\nexport default Upload;\n","import React, { useState } from 'react'\n\nimport { Upload } from '@inovando/react-components'\nimport '@inovando/react-components/dist/index.css'\n\nconst App = () => {\n  const [files, setFiles] = useState([]);\n\n  return <div>\n    <h1>Inovando React Components</h1>\n    <Upload\n      onChange={files => {\n        setFiles(files);\n      }}\n      label=\"Arraste arquivos ou clique aqui para fazer upload\"\n      value={files}\n      accept=\"image/*\" // accept only images (Optional)\n      maxSize={3} // in mb (Optional)\n    />\n  </div>\n}\n\nexport default App\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}